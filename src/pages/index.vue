<template>
  <div>
    <Header :backgroundColor="page.headerColor"
            :concepts="page.concepts"
            :description="page.introduction"
            :title="page.title" />

    <main class="center-column">
      <Concept v-for="concept in page.concepts"
               :concept="concept"
               :key="concept.name" />
    </main>

    <Footer :body="page.footer" />
  </div>
</template>

<script>
import getPageData from '../lib/get-page-data'
import seoHead from '../lib/seo-head'
import Concept from '../components/concept'
import Footer from '../components/footer'
import Header from '../components/header'

export default {
  components: { Concept, Footer, Header },
  async asyncData() {
    const page = await getPageData('index')
    return { page }
  },
  head() {
    return seoHead(this.page.seo)
  }
}
</script>

<style scoped>
@import '../assets/core.css';

.concept {
  margin-bottom: calc(var(--spacing-default) * 3);
}

@media (min-width: 600px) {
  .concept {
    margin-bottom: calc(var(--spacing-default) * 6);
  }
}
</style>
